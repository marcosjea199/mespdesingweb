/* =========================================================
   SITE.CSS — tokens, base, componentes (Navbar, Footer, Cards,
   Botones, Formularios, Colaboradores, CTA, Accesibilidad)
   ========================================================= */

/* =========================
   1) TOKENS (marca + semánticos)
   ========================= */
:root{
  /* Marca */
  --brand-primary: #253fdb;
  --brand-dark:    #000031;

  /* Tipografías */
  --font-heading: 'Montserrat', sans-serif;
  --font-body:    'Nunito Sans', sans-serif;

  /* Paleta utilidades */
  --neutral-10:#060911;
  --neutral-40:#F2F2F2;
  --neutral-60:#FFFFFF;

  /* Compat con claves existentes (fallbacks a marca) */
  --primary-color:      var(--brand-primary);
  --primary-color-dark: var(--brand-dark);
  --primary-color-rgb:  37, 63, 219; /* rgb de #253fdb */

  --light-bg:  var(--neutral-40);
  --primary-bg:var(--brand-primary);
  --white:     #ffffff;
  --link-color:var(--brand-primary);

  /* Semánticos (superficies/texteo) */
  --background-color:      var(--neutral-40);
  --card-background-color: var(--white);
  --text-color:            var(--brand-dark);
  --muted-text-color:      #C3C3C3;
  --heading-color:         var(--brand-dark);
  --border-color:          var(--neutral-40);

  /* Motion + radios + sombras */
  --radius: .75rem;
  --radius-lg: 1rem;
  --radius-xl: 1.25rem;
  --shadow-1: 0 1px 2px rgba(0,0,0,.06);
  --shadow-2: 0 .75rem 1.5rem rgba(0,0,0,.10);
  --easing: cubic-bezier(.2,.8,.2,1);

  /* Helpers */
  --navbar-offset: 80px;
  --project-title-lines: 2;
  --project-text-lines:  2;

  /* Override Bootstrap (si lo usas por variables CSS) */
  --bs-primary:     var(--brand-primary);
  --bs-primary-rgb: 37,63,219;
}

/* =========================
   2) DARK MODE (preferencias + overrides)
   ========================= */
@media (prefers-color-scheme: dark){
  :root{
    --background-color:      var(--brand-dark);
    --card-background-color: #495057;
    --text-color:            var(--neutral-60);
    --muted-text-color:      #C3C3C3;
    --heading-color:         var(--neutral-60);
    --border-color:          #495057;
    --shadow-1: 0 1px 2px rgba(0,0,0,.30);
    --shadow-2: 0 .75rem 1.5rem rgba(0,0,0,.45);
  }
}
/* Overrides explícitos (prioridad más alta) */
body.dark-mode,
[data-bs-theme="dark"]{
  --background-color:      var(--brand-dark);
  --card-background-color: #495057;
  --text-color:            var(--neutral-60);
  --muted-text-color:      #C3C3C3;
  --heading-color:         var(--neutral-60);
  --border-color:          #495057;
  --shadow-1: 0 1px 2px rgba(0,0,0,.30);
  --shadow-2: 0 .75rem 1.5rem rgba(0,0,0,.45);
}

/* =========================
   3) BASE
   ========================= */
html { scroll-behavior: smooth; }
body{
  background-color: var(--background-color);
  color: var(--text-color);
  font-family: var(--font-body), system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  text-rendering: optimizeLegibility;
  transition: background-color .3s ease, color .3s ease;
}
h1, h2, h3, h4, h5, h6,
.display-1,.display-2,.display-3,.display-4,.display-5{
  font-family: var(--font-heading);
  font-weight: 900;
  letter-spacing: -0.02em;
  color: var(--heading-color);
}
img{ max-width: 100%; height: auto; }

/* Enfoque accesible */
:where(a, button, [role="button"], .btn):focus-visible{
  outline: 2px solid var(--bs-primary);
  outline-offset: 2px;
}

/* Superficies base */
.navbar, .footer{ background-color: var(--background-color) !important; }
.card{
  background-color: var(--card-background-color);
  border-radius: var(--radius);
  box-shadow: var(--shadow-1);
}

/* Anclas con navbar fija */
[id]{ scroll-margin-top: var(--navbar-offset); }

/* =========================
   4) NAVBAR
   ========================= */
.navbar{
  transition: background-color .2s var(--easing), box-shadow .2s var(--easing), border-color .2s var(--easing);
  z-index: 1030;
}
.navbar.navbar-scrolled{
  background-color: var(--bs-body-bg, var(--background-color)) !important;
  border-bottom: 1px solid var(--bs-border-color, var(--border-color));
  box-shadow: 0 .25rem .75rem rgba(0,0,0,.06);
}
.navbar .navbar-brand{ font-weight: 800; letter-spacing: -.01em; }
.navbar .navbar-brand img{ width: 40px; height: 40px; object-fit: cover; border-radius: .375rem; }
.navbar .navbar-toggler:focus{ box-shadow: 0 0 0 .25rem rgba(var(--bs-primary-rgb), .25); }

/* Enlaces + subrayado suave */
.navbar .nav-link{
  position: relative;
  padding: .5rem .75rem;
  transition: color .18s ease;
}
.navbar .nav-link::after{
  content:"";
  position:absolute; left:.75rem; right:.75rem; bottom:.35rem;
  height:2px; background: currentColor; opacity:.25;
  transform: scaleX(0); transform-origin:left center;
  transition: transform .18s ease, opacity .18s ease;
}
.navbar .nav-link:hover::after{ transform: scaleX(1); opacity:.5; }
.navbar .nav-link.active,
.navbar .nav-link[aria-current="page"]{ color: var(--bs-primary) !important; }
.navbar .nav-link.active::after,
.navbar .nav-link[aria-current="page"]::after{ transform: scaleX(1); opacity:1; }
.navbar a.nav-link:focus-visible{ border-radius: .25rem; }

/* Distribuciones */
@media (min-width: 992px){
  .navbar .nav-link{ padding-inline: .85rem; }
}
@media (max-width: 991.98px){
  .navbar .navbar-nav .nav-link{
    padding-block: .65rem;
    border-top: 1px solid var(--bs-border-color, var(--border-color));
  }
  .navbar .navbar-nav .nav-item:first-child .nav-link{ border-top: 0; }
}

/* Variante overlay opcional (hero transparente) */
.navbar.navbar-overlay{ background: transparent !important; border-bottom: 1px solid transparent; }
.navbar.navbar-overlay.navbar-scrolled{
  background-color: var(--bs-body-bg, var(--background-color)) !important;
  border-bottom-color: var(--bs-border-color, var(--border-color));
}

/* =========================
   5) BOTONES
   ========================= */
.btn{
  transition: background-color .18s var(--easing), border-color .18s var(--easing), color .18s var(--easing), box-shadow .18s var(--easing);
}
.btn-primary{
  background-color: var(--primary-color);
  border-color: var(--primary-color);
  color: #fff;
  font-weight: 700;
  border-radius: 50rem;
  padding: .75rem 2rem;
  box-shadow: 0 4px 10px rgba(var(--primary-color-rgb), .15);
}
.btn-primary:hover,
.btn-primary:focus{
  background-color: var(--primary-color-dark);
  border-color: var(--primary-color-dark);
  box-shadow: 0 8px 18px rgba(var(--primary-color-rgb), .20);
}
.btn-outline-primary{
  border-radius: 50rem;
  padding: .75rem 2rem;
  font-weight: 700;
  color: var(--primary-color);
  border-color: var(--primary-color);
}
.btn-outline-primary:hover,
.btn-outline-primary:focus{
  background-color: var(--primary-color);
  color: #fff;
  box-shadow: 0 6px 14px rgba(var(--primary-color-rgb), .15);
}
.btn-lg{ padding: 1rem 2.5rem; }

/* =========================
   6) FORMULARIOS
   ========================= */
.form-control{
  border-radius: .5rem;
  padding: .75rem 1rem;
}
.form-control:focus{
  border-color: var(--primary-color);
  box-shadow: 0 0 0 .25rem rgba(var(--primary-color-rgb), .25);
}

/* =========================
   7) BADGES
   ========================= */
.badge{
  text-transform: uppercase;
  font-size: .7rem;
  font-weight: 700;
  letter-spacing: .5px;
}

/* =========================
   8) CTA CONTACTO
   ========================= */
.contact-cta-section{
  background-color: var(--primary-bg);
  color: #fff;
  padding: 6rem 0;
}
.contact-cta-section h2{
  font-family: var(--font-heading);
  font-weight: 900;
}

/* =========================
   9) CARDS DE PROYECTOS (Home + Portfolio)
   ========================= */
.project-card,
.home-project-card,
#portfolio .card{
  border-radius: 1rem;
  border: 1px solid var(--bs-border-color, var(--border-color));
  overflow: hidden;
  background: var(--bs-body-bg, var(--card-background-color));
  transition: transform .2s var(--easing), box-shadow .2s var(--easing), border-color .2s var(--easing);
  box-shadow: var(--shadow-1);
}
.project-card:hover,
.home-project-card:hover,
#portfolio .card:hover{
  transform: translateY(-4px);
  box-shadow: 0 .75rem 1.5rem rgba(0,0,0,.08);
  border-color: rgba(0,0,0,.06);
}
.project-card:focus-within,
.home-project-card:focus-within,
#portfolio .card:focus-within{
  outline: 2px solid var(--bs-primary);
  outline-offset: 2px;
}

/* Imagen 16:9 */
.project-card .card-img-top,
.home-project-card .card-img-top,
#portfolio .card-img-top{
  aspect-ratio: 16 / 9;
  object-fit: cover;
  display: block;
  background: var(--bs-secondary-bg, var(--border-color));
}

/* Cuerpo + clamps */
.project-card .card-body,
.home-project-card .card-body,
#portfolio .card-body{
  display: flex;
  flex-direction: column;
  gap: .5rem;
  padding: 1rem 1rem 1.25rem;
}
.project-card .card-title,
.home-project-card .card-title,
#portfolio .card-title{
  margin: 0 0 .25rem;
  font-weight: 700;
  line-height: 1.25;
  display: -webkit-box;
  -webkit-line-clamp: var(--project-title-lines);
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.project-card .card-text,
.home-project-card .card-text,
#portfolio .card-text{
  color: var(--bs-secondary-color, var(--muted-text-color));
  display: -webkit-box;
  -webkit-line-clamp: var(--project-text-lines);
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.project-card .btn,
.home-project-card .btn,
#portfolio .card .btn{
  align-self: flex-start;
  margin-top: .25rem;
}

/* =========================
   10) COLABORADORES (carrusel con avatars)
   ========================= */
#colaboradores .carousel .col > a,
#colaboradores .carousel .col > div,
#colaboradores .carousel .col-4 > a,
#colaboradores .carousel .col-4 > img{
  display:flex; align-items:center; justify-content:center;
  height: 112px; width:100%;
  padding:.75rem 1rem;
  background: var(--bs-body-bg, var(--card-background-color));
  border:1px solid var(--bs-border-color, var(--border-color));
  border-radius: .75rem;
  box-shadow: 0 1px 2px rgba(0,0,0,.04);
  transition: transform .18s var(--easing), box-shadow .18s var(--easing), border-color .18s var(--easing), background-color .18s var(--easing);
  text-decoration: none;
}
#colaboradores .carousel .col > a:hover,
#colaboradores .carousel .col > div:hover,
#colaboradores .carousel .col-4 > a:hover,
#colaboradores .carousel .col-4 > img:hover{
  transform: translateY(-2px);
  box-shadow: 0 .75rem 1.25rem rgba(0,0,0,.08);
  border-color: rgba(0,0,0,.08);
}

/* Avatares (personas) */
#colaboradores img{
  width:72px; height:72px; object-fit:cover; border-radius:50%;
  transition: opacity .18s var(--easing), transform .18s var(--easing);
}
@media (min-width:768px){
  #colaboradores .carousel .col > a,
  #colaboradores .carousel .col > div{ height: 140px; }
  #colaboradores img{ width:88px; height:88px; }
}

/* =========================
   11) FOOTER
   ========================= */
footer{ line-height: 1.6; }
footer .text-muted{ color: var(--bs-secondary-color, var(--muted-text-color)) !important; }
footer a.text-muted:hover{ color: var(--bs-body-color, var(--text-color)) !important; text-decoration: underline; }
footer .bi{ transition: transform .18s var(--easing), opacity .18s var(--easing), color .18s var(--easing); }
footer a[aria-label]:hover .bi{ transform: translateY(-2px); opacity:.9; }

/* Contraste en fondos oscuros */
footer.bg-dark a{ color: rgba(255,255,255,.85); }
footer.bg-dark a:hover{ color:#fff; }

/* Hover acorde a tu marca */
footer a.text-muted:hover{ color: var(--white) !important; }
footer .bi:hover{ color: var(--link-color) !important; }

/* Divisor */
footer hr{ border-color: var(--bs-border-color, var(--border-color)); opacity:1; }

/* =========================
   12) ACCESIBILIDAD & MOTION
   ========================= */
.skip-link{
  position:absolute; left:0; top:0; transform: translateY(-150%);
  background: var(--bs-primary); color:#fff; padding:.5rem .75rem; border-radius:.5rem;
  z-index:9999; transition: transform .15s ease;
}
.skip-link:focus{ transform: translateY(0); }

@media (prefers-reduced-motion: reduce){
  *{ transition: none !important; }
}

/* ===== NAVBAR: altura fija 90px + colores de texto (light/dark) ===== */

/* Color de texto deseado por tema */
:root{
  --navbar-text: #060911;   /* light */
}
[data-bs-theme="dark"],
body.dark-mode{
  --navbar-text: #F2F2F2;   /* dark */
}

/* Altura: exacta en desktop, flexible en móvil para que no se rompa el colapso */
.navbar{
  min-height: 90px;                  /* móvil: deja respirar si hay 2 filas */
  --bs-navbar-padding-y: 0;          /* eliminamos padding vertical por defecto */
}
@media (min-width: 992px){
  .navbar{
    height: 90px;                    /* desktop: altura exacta */
  }
}

/* Aplica color a marca y enlaces de navegación */
.navbar .navbar-brand,
.navbar .nav-link{
  color: var(--navbar-text) !important;
}

/* Opcional: estados (hover/activo) conservando tu color base */
.navbar .nav-link:hover{
  color: var(--navbar-text) !important;
}
.navbar .nav-link.active,
.navbar .nav-link[aria-current="page"]{
  color: var(--navbar-text) !important;
}

/* (Opcional) Ajuste del toggler para que no desentone en dark/light
   Nota: el ícono del toggler es un SVG de fondo; este truco alinea su color al texto */
.navbar{
  --bs-navbar-color: var(--navbar-text);
  --bs-navbar-brand-color: var(--navbar-text);
  --bs-navbar-active-color: var(--navbar-text);
}

